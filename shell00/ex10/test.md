# シェルスクリプトで引数が数字かどうか判断する方法

## code

```is_num.sh
#!/bin/bash

CHAR=$(expr "$1" : '\([0-9][0-9]*\)')
if [ "$1" != "$CHAR" ]; then
	echo "$1 is not number."
	exit 1
fi
```

## expr

パターンマッチを実行する。

左右の項は文字列に変換され、右項は基本正規表現として扱われる。

右項には暗黙のうちに先頭に `^` が自動的に付加され、左項がその正規表現にマッチするかのテストが行われる。

マッチが成功した場合、正規表現の一部が `\(` と `\)` で囲われていれば、 : 演算子はstringのうち、副表現 (subexpression) にマッチした部分を返す。

それ以外の場合はマッチした部分の文字数が返される。
マッチに失敗した場合、 `\(` と `\)` が使われていた場合にはナル文字列が、そうでない場合には 0 が返される。

`\(` と `\)` のペアのうち、最初のものだけが返り値に影響する。それ以外のペアは、正規表現の演算子をグループ化するという意味だけを持つ。
